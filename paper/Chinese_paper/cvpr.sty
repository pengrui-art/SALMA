% cvpr.sty
%
% CVPR 2020/2021/2022/2023 Paper Style
%
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{cvpr}[2020/08/21 CVPR paper style]

\typeout{CVPR Style file for CVPR 2020+}

% Required packages
\RequirePackage{eso-pic}
\RequirePackage{xspace}
\RequirePackage{ifthen}

% Define the "cvprfinal" boolean
\newif\ifcvprfinal
\cvprfinalfalse

\DeclareOption{review}{
    \cvprfinalfalse
}
\DeclareOption{final}{
    \cvprfinaltrue
}
\DeclareOption{pagenumbers}{
    % handle page numbers if needed
}
\ProcessOptions\relax

% Command to switch to final copy mode manually
\newcommand{\cvprfinalcopy}{\cvprfinaltrue}

% Page layout
\setlength{\textheight}{8.875in}
\setlength{\textwidth}{6.875in}
\setlength{\columnsep}{0.3125in}
\setlength{\topmargin}{0in}
\setlength{\headheight}{0in}
\setlength{\headsep}{0in}
\setlength{\parindent}{1pc}
\setlength{\oddsidemargin}{-0.1875in}
\setlength{\evensidemargin}{-0.1875in}

% -----------------------------------------------------------------------------
% Title stuff
% -----------------------------------------------------------------------------
\def\maketitle{
    \par
    \begingroup
    \def\thefootnote{\fnsymbol{footnote}}
    \def\@makefnmark{\hbox to 0pt{$^{\@thefnmark}$\hss}}
    \twocolumn[\@maketitle]
    \@thanks
    \endgroup
    \setcounter{footnote}{0}
    \let\maketitle\relax
    \let\@maketitle\relax
    \gdef\@thanks{}\gdef\@author{}\gdef\@title{}
}

\def\@maketitle{
    \newpage
    \null
    \vskip .375in
    \begin{center}
        {\Large \bf \@title \par}
        \vskip .375in
        {\large
            \lineskip .5em
            \begin{tabular}[t]{c}
                \@author
            \end{tabular}
            \par
        }
        \vskip .375in
    \end{center}
}

% -----------------------------------------------------------------------------
% Section headings
% -----------------------------------------------------------------------------
\renewcommand\section{\@startsection {section}{1}{\z@}%
                                   {-3.5ex \@plus -1ex \@minus -.2ex}%
                                   {2.3ex \@plus.2ex}%
                                   {\normalfont\Large\bfseries}}
\renewcommand\subsection{\@startsection{subsection}{2}{\z@}%
                                     {-3.25ex\@plus -1ex \@minus -.2ex}%
                                     {1.5ex \@plus .2ex}%
                                     {\normalfont\large\bfseries}}
\renewcommand\subsubsection{\@startsection{subsubsection}{3}{\z@}%
                                     {-3.25ex\@plus -1ex \@minus -.2ex}%
                                     {1.5ex \@plus .2ex}%
                                     {\normalfont\normalsize\bfseries}}

% -----------------------------------------------------------------------------
% Abstract
% -----------------------------------------------------------------------------
\renewenvironment{abstract}{
    \centerline
    {\large\bf Abstract}
    \vspace{0.5ex}
    \begin{quote}
}
{
    \end{quote}
}

% -----------------------------------------------------------------------------
% Figures and Tables
% -----------------------------------------------------------------------------
\RequirePackage{caption}
\DeclareCaptionLabelFormat{cvpr}{#1 #2}
\captionsetup{format=plain,labelformat=cvpr,labelsep=period}

% -----------------------------------------------------------------------------
% Dense mode usually
% -----------------------------------------------------------------------------
\pagestyle{empty}

\endinput
